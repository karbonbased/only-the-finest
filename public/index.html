<html ng-app="finestApp">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">.
	<title></title>
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.6.1/lodash.js"></script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-route.min.js"></script>
	<script type="text/javascript" src="js/app.js"></script>
	<link rel="stylesheet" type="text/css" href="style/style.css">
	<script type="text/javascript" src="js/maps.js"></script>	
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmwtfSv21F2H9uJga-oj5UeCbC-bUsaS0&libraries=places&callback=initialize" async defer></script>
	<script type="text/javascript" src="https://rawgit.com/angular-ui/angular-google-maps/2.3.2/dist/angular-google-maps.min.js"></script>

	<base href="/">

</head>
<body ng-controller="MainController as mainCtrl">
<!-- <header>
	<nav class="bar">
		<a href="#">FINEST LOGO</a>
		<a href="#addUserForm">THIS ROUTE</a>
		<a href="#">LOCATIONS</a>
		<a ng-click=mainCtrl.logout()>LOGOUT</a>
	</nav>
</header> -->
<header>
	<nav class="bar">
		<a href="/">FINEST LOGO</a>
		<a href="/users">USERS</a>
		<a href="/locations">LOCATIONS</a>
		<a ng-click=mainCtrl.logout() ng-if="mainCtrl.isLoggedIn"> {{ mainCtrl.user.name }} LOGOUT</a>
	</nav>
</header>

	<div ng-view></div>
	<div id="top-elements">
		<h1 class="top-content" id="greeting">Finest Things App</h1><span ng-if="mainCtrl.isLoggedIn">HELLO {{ mainCtrl.user.name }} </span>
		<div ng-if="!mainCtrl.isLoggedIn" id="addUserForm">
			<div class="top-content" id="signup">
				<h3>Sign Up</h3>
				<form ng-controller="SignupController as signup" ng-submit="signup.signup()">
					<input type="text" ng-model="signup.userInfo.name" placeholder="name"><br>
					<input type="text" ng-model="signup.userInfo.email" placeholder="email"><br>
					<input type="text" ng-model="signup.userInfo.gender" placeholder="gender"><br>
					<input type="text" ng-model="signup.userInfo.password" placeholder="password"><br>
					<input type="submit">
				</form>
			</div>

			<div class="top-content" id="login">
			<h3>Login</h3>
				<form ng-controller="LoginController as login" ng-submit="login.login()">
					<input type="text" ng-model="login.userInfo.email" placeholder="email"><br>
					<input type="text" ng-model="login.userInfo.password" placeholder="password"><br>
					<input type="submit">
				</form>
			</div>
		</div>
	</div> <!--closes signup and header div -->
		<div id="main-area"> 
	<section id="left-main">
		<div id="left-main-content">
			<h3>All Users</h3>

		<div ng-repeat="user in mainCtrl.userList">
			<p>{{user.name}}</p>
			<p>{{user._id}}</p>	
			<p ng-repeat="locations1 in user.locations">{{locations1.name}}</br>{{locations1._id}}</br><button ng-if="mainCtrl.isLoggedIn"ng-click="mainCtrl.deleteLocation(locations1)">delete</button></p></br>	
		</div>

		<h3>All Locations</h3>
		<div ng-repeat="location in mainCtrl.locationList">
			<p>{{location.name}}</p>
		</div>


		<div ng-if="mainCtrl.isLoggedIn" id="addLocationForm">

			<h3>New Location</h3>
			<form ng-submit="mainCtrl.addLocationForm()">
				<input type="text" ng-model="mainCtrl.locationData.name" placeholder="name"><br>
				<input type="number" step="any" ng-model="mainCtrl.locationData.lat" placeholder="lat"><br>
				<input type="number" step="any" ng-model="mainCtrl.locationData.lng" placeholder="lng"><br>
				<input type="submit">
			</form>
		</div>
	</div>
	</section>
	
	<section id="right-main">
		<div ng-controller="MapController as mapCtrl">
			 <input id="pac-input" class="controls" type="text" placeholder="Search Box">
			<div id="map-canvas">{{mapCtrl.map()}}</div>
		</div>
	</section>
</div>	

</body>
</html>